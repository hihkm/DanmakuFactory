# DanmakuFactory CLI 参数说明

## 用法

```powershell
DanmakuFactory -o [输出文件格式] <输出文件名> -i [输入文件1模板] 输出文件1文件名  [输入文件2模板] 输出文件2文件名  ... [-t 输入文件1时间偏移 ...] [设定名称 设定值] ...
```

## 设定

| 选项（设定名称）   | 解释                                                                                                                                                                 | 有效值                                                                           | 默认值            | 举例                                                         |
| ------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------- | ----------------- | ------------------------------------------------------------ |
| -r, --resolution   | 指定分辨率                                                                                                                                                           | 两个大于 0 的整数                                                                | 1920x1080         | -r 1920x1080<br />-r 1920 1080                               |
| -s, --scrolltime   | 指定滚动弹幕的通过时间（单位：秒）                                                                                                                                   | 大于 0.0 的浮点数                                                                | 12.0              | -s 12.0                                                      |
| -f, --fixtime      | 指定固定弹幕的显示时间（单位：秒）                                                                                                                                   | 大于 0.0 的浮点数                                                                | 5.0               | -f 12.0                                                      |
| -d, --density      | 指定弹幕密度（条）                                                                                                                                                   | -1 不重叠<br />0 无限制<br />其他 表示限定条数                                   | 0                 | -d -1                                                        |
| --line-spacing     | 指定行间距（单位：像素）                                                                                                                                             | ± 整数                                                                           | 0                 | `-N "Sarasa UI SC" -S 54 --line-spacing -9`                  |
| -S, --fontsize     | 指定文字大小（单位：像素）                                                                                                                                           | 大于 0 的整数                                                                    | 38                | -S 38                                                        |
| --font-size-strict | 是否使普通弹幕严格保持指定的字号大小                                                                                                                                 |                                                                                  |                   | -S 25 --font-size-strict                                     |
| --font-size-norm   | 采用某种方法修正普通弹幕的字号                                                                                                                                       |                                                                                  |                   | --font-size-norm                                             |
| -N, --fontname     | 指定字体名                                                                                                                                                           | 字符串                                                                           | "Microsoft YaHei" | -N “Microsoft YaHei”                                         |
| -O, --opacity      | 指定不透明度，越小越透明                                                                                                                                             | 1-255 的整数                                                                     | 180               | -O 255                                                       |
| -L, --outline      | 指定描边成都                                                                                                                                                         | 0-4 整数                                                                         | 0                 | -L 4                                                         |
| --outline-blur     | 指定描边模糊半径                                                                                                                                                     | 非负浮点数                                                                       | 0                 | --outline-blur 1                                             |
| --outline-opacity  | 指定描边不透明度（单位：0-255）<br />默认值为 255，表示完全不透明<br />                                                                                              | 0-255 整数                                                                       | 255               | --outline-opacity 128                                        |
| -D, --shadow       | 指定阴影深度                                                                                                                                                         | 0-4 整数                                                                         | 1                 | -D 4                                                         |
| -B, --bold         | 指定是否使用粗体字                                                                                                                                                   | true / false                                                                     | false             | -B true                                                      |
| --displayarea      | 全部弹幕的显示范围                                                                                                                                                   | 0.0-1.0 浮点数                                                                   | 1.00              | --displayarea 0.5                                            |
| --scrollarea       | 滚动弹幕的显示范围                                                                                                                                                   | 0.0-1.0 浮点数                                                                   | 1.00              | --scrollarea 0.5                                             |
| -b, --blockmode    | 设置按类型屏蔽                                                                                                                                                       | 要屏蔽的弹幕类型名称，用-连接<br />L2R, R2L, TOP, BOTTOM, SPECIAL, COLOR, REPEAT |                   | -b L2R-TOP-BOTTOM                                            |
| --statmode         | 设置统计模式                                                                                                                                                         | 要显示的统计图型名称，用-连接<br /> TABLE, HISTOGRAM                             |                   | --statmode TABLE, HISTOGRAM                                  |
| --saveblocked      | 是否保存屏蔽部分                                                                                                                                                     | true / false                                                                     | true              |                                                              |
| --showusernames    | 是否显示用户名（如有）                                                                                                                                               | true / false                                                                     | false             | --showusernames true                                         |
| --showmsgbox       | 是否显示礼物框                                                                                                                                                       | true / false                                                                     | true              | --showmsgbox true                                            |
| --msgboxsize       | 礼物框尺寸                                                                                                                                                           | 两个大于 0 的整数                                                                | 500x1080          | --msgboxsize 400x1000                                        |
| --msgboxpos        | 礼物框位置                                                                                                                                                           | 两个大于 0 的整数                                                                | 20x0              | --msgboxpos 50x50                                            |
| --msgboxfontsize   | 礼物框文字大小（单位：像素）                                                                                                                                         | 大于 0 的整数                                                                    | 38                | --msgboxfontsize 25                                          |
| --msgboxduration   | 消息框的持续时长（单位：秒）<br />默认读取 XML 文件中每条消息自带的时长                                                                                              | 大于或等于 0 的浮点数                                                            | 0.0               | --msgboxduration 5.0                                         |
| --giftminprice     | 显示礼物的最小价值（单位：元）                                                                                                                                       | 大于或等于 0 的浮点数                                                            | 0.0               | --giftminprice 5.20                                          |
| --blacklist        | 弹幕内容黑名单文件,`<>`可以屏蔽 uid，`[]`屏蔽用户名名，仅在非正则生效                                                                                                | 文件内容以换行分隔                                                               |                   | --blacklist black.txt                                        |
| --blacklist-regex  | 弹幕内容黑名单是否启用正则表达式匹配                                                                                                                                 | true / false                                                                     | false             | --blacklist-regex true                                       |
| -h, --help         | 打印帮助和版本信息                                                                                                                                                   |                                                                                  |                   | -h                                                           |
| -c, --config       | 读取指定的零个或多个配置文件<br />配置中的相同参数会被后者覆盖<br />（命令行中的参数优先度最高）<br />打印最终合并后的配置信息<br />若不指定，则直接显示默认配置信息 | 零个或多个字符串                                                                 |                   | -c "公共基础配置文件.json" "仅包含个别值的特化配置文件.json" |
| --save             | 在当前目录下将最终的配置信息保存成文件                                                                                                                               |                                                                                  |                   | --save                                                       |
| --ignore-warnings  | 忽略诸如“是否覆盖文件”的警告                                                                                                                                         |                                                                                  |                   | --ignore-warnings                                            |
| --force            | 强制覆盖输出文件                                                                                                                                                     |                                                                                  |                   | --force                                                      |
